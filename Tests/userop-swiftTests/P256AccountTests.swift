//
//  P256AccountTests.swift
//  
//
//  Created by liugang zhang on 2023/8/30.
//

import XCTest
import Web3Core
import web3swift
import BigInt

@testable import userop_swift

final class P256AccountTests: XCTestCase {
//    func testBindEmail() async throws {
//        let account =  try await P256AccountBuilder(signer: P256R1Signer(),
//                                                    rpcUrl: rpc,
//                                                    bundleRpcUrl: bundler,
//                                                    entryPoint: entryPointAddress,
//                                                    factory: factoryAddress,
//                                                    salt: 1)
//        let data = account.proxy.contract.method("addEmailGuardian", parameters: [
//            "0x36387ffce3ddd8c35b790148d6e6134689f74fe32471a27e8a243634ce213098",
//            "0x416bf2958e0965619fe574411312d6963673c87443f2ca65b34cc4415badc96749b5509d0ef2c43000e34fdd9ef5503bf2a12963c0190c25c1f56889d2efb9031b"
//        ], extraData: nil)!
//        account.execute(to: account.sender, value: 0, data: data)
//
//        let client = try await Client(rpcUrl: rpc, overrideBundlerRpc: bundler, entryPoint: entryPointAddress)
//        let response = try await client.sendUserOperation(builder: account)
//    }
//
//    func testRemoveEmail() async throws {
//        let account =  try await P256AccountBuilder(signer: P256R1Signer(),
//                                                    rpcUrl: rpc,
//                                                    bundleRpcUrl: bundler,
//                                                    entryPoint: entryPointAddress,
//                                                    factory: factoryAddress,
//                                                    salt: 1)
//        let data = account.proxy.contract.method("removeEmailGuardian", parameters: [], extraData: nil)!
//        account.execute(to: account.sender, value: 0, data: data)
//
//        let client = try await Client(rpcUrl: rpc, overrideBundlerRpc: bundler, entryPoint: entryPointAddress)
//        let response = try await client.sendUserOperation(builder: account)
//    }
}
